<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes, viewport-fit=cover">
  <title>Will you be my Valentine? üíò </title>
  <!-- Google Fonts: Ubuntu for headings (clean, modern, readable) + Dancing Script for accents -->
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@400;700&family=Ubuntu:wght@400;500;700&display=swap" rel="stylesheet">
  <!-- Font Awesome 6 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- canvas-confetti -->
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1"></script>
  <style>

    /* ---------- HEART CURSOR ---------- */
body {
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="%23ff4d6d" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') 12 12, auto;
}

/* For links/buttons, keep pointer but with heart */
a, button, .btn, .nav-btn, .back-btn, .music-toggle, .surprise-btn, #yesBtn, #noBtn, #theRing {
  cursor: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="%23ff4d6d" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>') 12 12, pointer;
}
    /* ---------- RESET & GLOBAL ROMANTIC VIBE ---------- */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Ubuntu', 'Nunito', sans-serif;
      background: linear-gradient(145deg, #ffe9f0, #ffd9e2, #ffe0ed);
      background-size: 400% 400%;
      animation: gradientBG 14s ease infinite;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 1rem;
      position: relative;
      overflow-x: hidden;
      -webkit-tap-highlight-color: transparent;
    }

    @keyframes gradientBG {
      0% { background-position: 0% 50%; }
      50% { background-position: 100% 50%; }
      100% { background-position: 0% 50%; }
    }

    body::before {
      content: "";
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      background-image: url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40"><path fill="rgba(255,200,210,0.15)" d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 2 5.42 4.42 3 7.5 3c1.74 0 3.41.81 4.5 2.09C13.09 3.81 14.76 3 16.5 3 19.58 3 22 5.42 22 8.5c0 3.78-3.4 6.86-8.55 11.54L12 21.35z"/></svg>');
      background-repeat: repeat;
      background-size: 60px 60px;
      opacity: 0.4;
      z-index: 0;
    }

    .heart-bg {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 1;
    }

    .heart-bg i {
      position: absolute;
      color: rgba(255, 140, 160, 0.15);
      font-size: 2rem;
      animation: float 12s infinite ease-in-out;
    }

    @keyframes float {
      0% { transform: translateY(0) rotate(0deg); opacity: 0.2; }
      50% { transform: translateY(-20px) rotate(10deg); opacity: 0.4; }
      100% { transform: translateY(0) rotate(0deg); opacity: 0.2; }
    }

    .falling-heart {
      position: fixed;
      top: -10vh;
      font-size: 1.8rem;
      color: #ff4d6d;
      user-select: none;
      pointer-events: none;
      z-index: 9999;
      animation: fall 3s linear forwards;
    }

    @keyframes fall {
      0% { transform: translateY(0) rotate(0deg); opacity: 1; }
      100% { transform: translateY(110vh) rotate(360deg); opacity: 0; }
    }

    .card {
      background: rgba(255, 250, 250, 0.85);
      backdrop-filter: blur(10px);
      -webkit-backdrop-filter: blur(10px);
      border-radius: 40px 20px 40px 20px;
      box-shadow: 0 20px 40px rgba(200, 60, 80, 0.25);
      padding: 2rem 1.5rem;
      max-width: 1000px;
      width: 100%;
      border: 1px solid rgba(255, 255, 255, 0.8);
      position: relative;
      z-index: 20;
      transition: all 0.3s ease;
      animation: fadeSlide 0.8s ease-out;
    }

    @keyframes fadeSlide {
      0% { opacity: 0; transform: translateY(20px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    /* ----- TOPIC FONTS: Ubuntu for headings, Dancing Script for accents ----- */
    h1, .big-question, .acceptance h2, .countdown-title, 
    #page-story h2, #page-reasons h2, #page-gallery h2, 
    #page-future h2, #page-loveletter h2, #page-surprise h2 {
      font-family: 'Ubuntu', sans-serif;
      font-weight: 700;
      letter-spacing: 1px;
    }

    .subhead, .polaroid-caption, .love-letter-box, 
    .acceptance p:first-of-type, .message i {
      font-family: 'Dancing Script', cursive;
    }

    h1 {
      font-size: 2.8rem;
      color: #c5305e;
      text-shadow: 2px 2px 10px rgba(255, 182, 193, 0.6);
      margin-bottom: 0.5rem;
      line-height: 1.2;
    }

    .subhead {
      font-size: 1.2rem;
      color: #964b5e;
      font-weight: 400;
      margin-bottom: 1rem;
      border-bottom: 2px dashed #ffa5b0;
      display: inline-block;
      padding-bottom: 0.3rem;
    }

    .message {
      font-size: 1rem;
      color: #5e3a3a;
      margin: 1.5rem 0;
      background: rgba(255, 255, 255, 0.6);
      padding: 1.2rem;
      border-radius: 25px 10px 25px 10px;
      line-height: 1.6;
      min-height: 120px;
      border: 1px solid #ffe2ec;
      font-weight: 400;
    }

    /* ---------- MUSIC TOGGLE ---------- */
    .music-toggle {
      position: fixed;
      top: 12px;
      right: 12px;
      background: rgba(255, 255, 255, 0.9);
      backdrop-filter: blur(5px);
      padding: 0.6rem 1rem;
      border-radius: 50px;
      box-shadow: 0 5px 15px rgba(255, 80, 120, 0.3);
      border: 1px solid white;
      color: #b34167;
      font-weight: 600;
      cursor: pointer;
      z-index: 999;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: 0.2s;
      font-size: 0.9rem;
      animation: pulse 2s infinite;
    }

    @keyframes pulse {
      0% { box-shadow: 0 5px 15px rgba(255, 80, 120, 0.3); }
      50% { box-shadow: 0 8px 25px rgba(255, 80, 120, 0.6); }
      100% { box-shadow: 0 5px 15px rgba(255, 80, 120, 0.3); }
    }

    /* ---------- PROPOSAL PAGE ---------- */
    .proposal { text-align: center; }

    .her-photo-frame {
      width: 160px;
      height: 160px;
      margin: 0 auto 1.2rem;
      border-radius: 50% 30% 50% 30% / 40% 50% 40% 50%;
      border: 5px solid white;
      box-shadow: 0 12px 24px rgba(190, 60, 80, 0.25);
      overflow: hidden;
      background: #ffe2e9;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: transform 0.4s ease;
      animation: floatPhoto 4s infinite ease-in-out;
    }
    .her-photo-frame:hover { transform: scale(1.03); }
    @keyframes floatPhoto {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-6px); }
      100% { transform: translateY(0px); }
    }
    .her-photo-frame img { width: 100%; height: 100%; object-fit: cover; display: block; }

    .big-question {
      font-size: 2rem;
      color: #a33b4c;
      margin: 0.8rem 0 1.2rem;
      letter-spacing: 2px;
      animation: heartbeat 1.8s infinite;
    }
    @keyframes heartbeat {
      0%,100% { transform: scale(1); }
      50% { transform: scale(1.03); }
    }

    .button-game {
      position: relative;
      height: 110px;
      width: 100%;
      margin-top: 1.5rem;
      margin-bottom: 0.8rem;
    }
    .btn {
      position: absolute;
      padding: 0.8rem 1.8rem;
      font-size: 1.3rem;
      font-weight: 600;
      border: none;
      border-radius: 60px 20px 60px 20px;
      cursor: pointer;
      transition: all 0.2s ease;
      box-shadow: 0 6px 0 rgba(0, 0, 0, 0.1);
      letter-spacing: 1.5px;
      display: flex;
      align-items: center;
      gap: 0.4rem;
      white-space: nowrap;
    }
    .btn-yes {
      background: #ff4d6d;
      color: white;
      left: 12%;
      top: 20px;
      box-shadow: 0 6px 0 #b32d4a;
    }
    .btn-yes:hover { background: #ff3355; transform: scale(1.05); }
    .btn-no {
      background: #6c757d;
      color: white;
      box-shadow: 0 6px 0 #3d4246;
      z-index: 50;
    }

    /* ---------- MAIN PAGE ---------- */
    .main-page { text-align: center; animation: fadeSlide 0.6s; }
    .acceptance h2 { font-size: 2.5rem; color: #d43f63; }

    /* ----- COUNTDOWN TIMER ‚Äì only days & hours (since July 13, 2024) ----- */
    .countdown-container {
      background: rgba(255, 220, 230, 0.7);
      backdrop-filter: blur(4px);
      border-radius: 60px 20px 60px 20px;
      padding: 1rem 1.5rem;
      margin: 1.5rem 0 1rem;
      display: inline-block;
      width: 100%;
      border: 1px solid #ffb6c1;
      box-shadow: 0 6px 0 #e8b4b4;
    }
    .countdown-title {
      font-size: 1.6rem;
      color: #a12e4a;
      margin-bottom: 0.3rem;
    }
    .countdown-timer {
      font-size: 1.5rem;
      font-weight: 700;
      color: #80203c;
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      align-items: baseline;
      gap: 0.8rem;
    }
    .countdown-timer span {
      background: white;
      padding: 0.5rem 1rem;
      border-radius: 50px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.05);
      font-size: 1.4rem;
      font-weight: 700;
    }
    .countdown-timer .unit {
      font-size: 1.2rem;
      font-weight: 400;
      color: #a5384b;
      margin-left: -0.3rem;
    }

    /* navigation buttons */
    .nav-buttons {
      display: flex;
      flex-wrap: wrap;
      justify-content: center;
      gap: 0.8rem;
      margin: 1.8rem 0 1rem;
    }
    .nav-btn {
      background: #ffb3c6;
      border: none;
      color: #8e3b4c;
      padding: 0.7rem 1.1rem;
      border-radius: 50px;
      font-size: 0.95rem;
      font-weight: 600;
      cursor: pointer;
      transition: 0.2s;
      box-shadow: 0 4px 6px rgba(0,0,0,0.05);
      display: flex;
      align-items: center;
      gap: 0.4rem;
    }
    .nav-btn:hover { background: #ff9eb5; transform: translateY(-3px); }

    .back-btn {
      background: #ffe2e2;
      color: #a5555e;
      border: 1px solid #ffb6c1;
      margin-top: 1.8rem;
      padding: 0.5rem 1.5rem;
      border-radius: 40px;
      font-weight: 600;
      cursor: pointer;
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      transition: 0.2s;
    }
    .back-btn:hover { background: #ffd1d1; transform: translateX(-4px); }

    /* ---------- CHAT SIMULATION ---------- */
    .chat-container {
      background: rgba(255, 235, 240, 0.8);
      border-radius: 30px 10px 30px 10px;
      padding: 1.5rem 1rem;
      margin: 1.8rem 0 1rem;
      border: 1px solid #ffb6c1;
    }
    .chat-messages {
      display: flex;
      flex-direction: column;
      gap: 0.8rem;
      max-height: 280px;
      overflow-y: auto;
      padding-right: 0.3rem;
    }
    .chat-bubble {
      max-width: 80%;
      padding: 0.8rem 1.2rem;
      border-radius: 25px 25px 5px 25px;
      background: white;
      align-self: flex-end;
      box-shadow: 0 2px 8px rgba(255, 150, 170, 0.2);
      font-size: 0.95rem;
      color: #6a3340;
      word-break: break-word;
      animation: popChat 0.3s ease;
    }
    .chat-bubble.left {
      align-self: flex-start;
      background: #ffeef2;
      border-radius: 25px 25px 25px 5px;
    }
    @keyframes popChat {
      0% { opacity: 0; transform: scale(0.8); }
      100% { opacity: 1; transform: scale(1); }
    }

    /* ---------- REASONS GRID (no icons) ---------- */
    .reasons-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(130px, 1fr));
      gap: 0.8rem;
      margin: 1.5rem 0;
    }
    .reason-card {
      background: white;
      padding: 1rem 0.5rem;
      border-radius: 25px 8px 25px 8px;
      box-shadow: 0 6px 12px rgba(255, 120, 140, 0.15);
      text-align: center;
      font-size: 0.95rem;
      color: #9e3d4f;
      font-weight: 500;
      transition: all 0.25s ease;
      border: 1px solid #ffe2ec;
    }
    .reason-card:hover {
      transform: scale(1.03) rotate(1deg);
      background: #fff0f3;
    }

    /* ---------- POLAROID GALLERY ---------- */
    .polaroid-grid {
      display: grid;
      grid-template-columns: repeat(2, 1fr);
      gap: 1rem;
      margin: 1.8rem 0;
    }
    .polaroid {
      background: white;
      padding: 0.6rem 0.6rem 1.2rem 0.6rem;
      box-shadow: 0 8px 16px rgba(0,0,0,0.1);
      transform: rotate(var(--rot, -1deg));
      transition: 0.25s;
      border-radius: 10px 10px 4px 4px;
    }
    .polaroid:nth-child(even) { --rot: 2deg; }
    .polaroid:nth-child(odd) { --rot: -2deg; }
    .polaroid:hover { transform: rotate(0deg) scale(1.02); }
    .polaroid-img {
      width: 100%;
      aspect-ratio: 1 / 1;
      background: #ffe2e9;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
      color: #ff98a8;
      border-radius: 6px;
      object-fit: cover;
    }
    .polaroid-caption {
      font-family: 'Dancing Script', cursive;
      color: #a5384b;
      margin-top: 0.4rem;
      font-size: 1rem;
      text-align: center;
    }

    /* ---------- TIMELINE ---------- */
    .timeline-item {
      display: flex;
      gap: 0.8rem;
      margin-bottom: 1.5rem;
      background: rgba(255,255,255,0.6);
      padding: 0.9rem;
      border-radius: 20px 6px 20px 6px;
    }
    .timeline-icon {
      background: #ffb3c6;
      width: 45px;
      height: 45px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #a12e4a;
      font-size: 1.3rem;
      flex-shrink: 0;
    }

    /* ---------- LOVE LETTER ---------- */
    .love-letter-box {
      background: rgba(255, 240, 245, 0.9);
      padding: 1.5rem;
      border-radius: 30px 10px 30px 10px;
      margin: 1.2rem 0;
      font-family: 'Dancing Script', cursive;
      font-size: 1.3rem;
      color: #6a3340;
      border: 2px solid #ffb6c1;
      white-space: pre-wrap;
      text-align: left;
    }

    /* ---------- SURPRISE AUDIO ---------- */
    .surprise-btn {
      background: #ff8c9c;
      color: white;
      border: none;
      padding: 0.9rem 1.8rem;
      font-size: 1.1rem;
      border-radius: 50px;
      cursor: pointer;
      font-weight: bold;
      box-shadow: 0 5px 0 #b3475f;
      transition: 0.08s;
    }
    .surprise-btn:active { transform: translateY(5px); box-shadow: none; }

    /* ---------- RESPONSIVE ---------- */
    @media (max-width: 600px) {
      body { padding: 0.8rem; }
      .card { padding: 1.5rem; }
      h1 { font-size: 2.2rem; }
      .big-question { font-size: 1.8rem; }
      .btn { padding: 0.7rem 1.3rem; font-size: 1.2rem; }
      .btn-yes { left: 5%; }
      .her-photo-frame { width: 140px; height: 140px; }
      .polaroid-grid { gap: 0.8rem; }
      .countdown-timer { font-size: 1.3rem; }
      .countdown-timer span { font-size: 1.2rem; padding: 0.4rem 0.8rem; }
    }
    @media (max-width: 420px) {
      .btn { padding: 0.6rem 1rem; font-size: 1rem; }
      .btn-yes { left: 2%; }
      .nav-btn { padding: 0.6rem 0.9rem; font-size: 0.8rem; }
      .reasons-grid { grid-template-columns: repeat(2, 1fr); }
      .countdown-timer { font-size: 1.1rem; }
      .countdown-timer span { font-size: 1rem; }
    }

    .page { display: none; }
    .page.active { display: block; }
  </style>
</head>
<body>

  <!-- HEARTBEAT SCROLL PROGRESS BAR -->
<div id="scrollProgressBar" class="progress-bar"></div>

<style>
.progress-bar {
  position: fixed;
  top: 0;
  left: 0;
  width: 0%;
  height: 6px;
  background: linear-gradient(90deg, #ff9eb5, #ff4d6d, #ffb3c6);
  z-index: 9999;
  box-shadow: 0 0 10px #ff4d6d;
  animation: heartbeatProgress 1.5s ease-in-out infinite;
  border-radius: 0 3px 3px 0;
}

@keyframes heartbeatProgress {
  0%, 100% { opacity: 1; height: 6px; }
  50% { opacity: 0.7; height: 8px; }
}
</style>

<script>
// Update scroll progress bar width
window.addEventListener('scroll', function() {
  const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
  const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
  const scrolled = (winScroll / height) * 100;
  document.getElementById('scrollProgressBar').style.width = scrolled + '%';
});
</script>
  <div class="heart-bg">
    <i class="fas fa-heart" style="top: 10%; left: 5%;"></i>
    <i class="fas fa-heart" style="top: 15%; left: 90%; font-size: 2.5rem; animation-delay: 1s;"></i>
    <i class="fas fa-heart" style="top: 70%; left: 10%; font-size: 1.8rem; animation-delay: 2s;"></i>
    <i class="fas fa-heart" style="top: 50%; left: 85%; font-size: 2rem; animation-delay: 0.5s;"></i>
  </div>

  <!-- MUSIC CONTROL -->
  <div class="music-toggle" id="musicToggle">
    <i class="fas fa-music" id="musicIcon"></i>
    <span id="musicText">Play Music</span>
  </div>
 <audio id="valentineMusic" loop preload="none">
  <source src="https://blenderprawin.github.io/Valentines-day/music.mp3" type="audio/mpeg">
  <source src="https://cdn.pixabay.com/download/audio/2022/03/15/audio_6a5c0deb2a.mp3?filename=romantic-piano-theme-116198.mp3" type="audio/mpeg">
</audio>

  <!-- MAIN CARD -->
  <div class="card">
    <!-- PAGE 1: PROPOSAL -->
    <div id="page-proposal" class="page active">
      <div class="proposal">
        <div class="her-photo-frame">
          <!-- REPLACE WITH HER PHOTO -->
           <img src="https://i.ibb.co/CK0BGwPm/IMG-20240725-WA0070.jpg" alt="My love" border="0" /></a>
          
        </div>
        <h1> My Gudiya <span style="border-bottom: 3px dotted #ff8c9c;"> Kopila </span> ‚ù§Ô∏è</h1>
        <div class="subhead">
          <i class="fas fa-envelope-open-text"></i> 
          Your hency buda <strong> Pabin/Prawin </strong>
        </div>
        <div id="typingMessage" class="message">
          <i class="fas fa-quote-left" style="color: #ff6f8b;"></i> 
          From the moment we met, my world became brighter. Every laugh, every glance, you make my heart flutter. 
          I can't literally imagine a day without you sanu. So here's the question that means everything to me, 
          <i class="fas fa-quote-right" style="color: #ff6f8b;"></i>
        </div>
        <div class="big-question">üíå Will you be my Valentine? üíå</div>
        <div id="buttonContainer" class="button-game">
          <button id="yesBtn" class="btn btn-yes"><i class="fas fa-check-circle"></i> YES</button>
          <button id="noBtn" class="btn btn-no"><i class="fas fa-times-circle"></i> no </button>
        </div>
        <p style="color: #b3475f; margin-top: 0.3rem; font-size:0.9rem;"><i class="fas fa-arrow-right"></i> no thicha na matra pukuli timlai janechhu, thichiyepo huhu :) </p>
      </div>
    </div>

    <!-- PAGE 2: MAIN PAGE (after YES) with COUNTDOWN (only days & hours) + CHAT -->
    <div id="page-main" class="page">
      <div class="main-page">
        <div class="acceptance">
          <h2> YIPIII üíñ</h2>
          <div style="font-size: 3.5rem; color: #ff4d6d; animation: heartbeat 1.5s infinite;">
            <i class="fas fa-heart"></i> <i class="fas fa-heart"></i> <i class="fas fa-heart"></i>
          </div>
          <p style="font-family: 'Dancing Script', cursive; font-size: 1.9rem; margin: 0.3rem 0;"> You said yesss sanuuuu </p>
          <p style="font-size: 1.2rem;"> I'm the happiest person alive, gudiya ü•∞</p>
        </div>
<!-- DYNAMIC TIME MESSAGE -->
<div id="timeMessage" class="time-message">
  <i class="fas fa-clock"></i> 
  <span id="currentTime"></span> 
  and somewhere I am thinking about you baby (Timle herda sutirako holam)
</div>

<style>
.time-message {
  background: rgba(255, 220, 240, 0.8);
  backdrop-filter: blur(4px);
  border-radius: 60px 20px 60px 20px;
  padding: 0.8rem 1.5rem;
  margin: 1rem 0 1.5rem;
  border: 2px solid #ffb6c1;
  box-shadow: 0 6px 0 #e8b4b4;
  font-size: 1.1rem;
  color: #8e3b4c;
  text-align: center;
  font-weight: 600;
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 10px;
}

.time-message i {
  color: #ff4d6d;
  font-size: 1.3rem;
  animation: pulse 2s infinite;
}
</style>

<script>
// Update time every second
function updateTimeMessage() {
  const now = new Date();
  const options = { 
    hour: '2-digit', 
    minute: '2-digit', 
    second: '2-digit', 
    hour12: true,
    timeZone: Intl.DateTimeFormat().resolvedOptions().timeZone // user's local time
  };
  const timeString = now.toLocaleTimeString([], options);
  document.getElementById('currentTime').textContent = timeString;
}
updateTimeMessage();
setInterval(updateTimeMessage, 1000);
</script>
        <!-- üíñ COUNTDOWN TIMER ‚Äì only DAYS & HOURS since July 13, 2024 -->
        <div class="countdown-container">
          <div class="countdown-title">‚è≥ Time since I proposed </div>
          <div class="countdown-timer" id="countdownTimer">
            <span id="days">0</span> <span class="unit">days</span>
            <span id="hours">0</span> <span class="unit">hours</span>
          </div>
        </div>

        <!-- üí¨ ROMANTIC CHAT SIMULATION -->
        <div class="chat-container">
          <div class="chat-messages" id="chatMessages"></div>
        </div>

          <!-- üíç WILL YOU BE MINE FOREVER - RING PROPOSAL -->
<div style="background: rgba(255, 220, 240, 0.7); border-radius: 60px 20px; padding: 1.8rem 1.5rem; margin: 2rem 0 1.5rem; border: 2px solid #ffb6c1; box-shadow: 0 8px 0 #e8b4b4;">
  <h3 style="font-family: 'Dancing Script', cursive; font-size: 1.8rem; color: #a12e4a; margin-bottom: 0.5rem;">üëë Will you be mine forever baby?</h3>
  
  <div id="ringContainer" style="display: flex; flex-direction: column; align-items: center; justify-content: center; margin-top: 1.2rem;">
    
    <!-- THE RING (visible by default) -->
    <div id="theRing" style="font-size: 5rem; cursor: pointer; transition: all 0.3s ease; animation: sparkle 2s infinite; margin-bottom: 0.5rem;" onclick="proposeRing()">
      üíç
    </div>
    
    <!-- THE FINGER WITH RING (hidden by default) -->
    <div id="ringOnFinger" style="display: none; flex-direction: column; align-items: center;">
      <div style="font-size: 5rem; animation: popRing 0.5s ease;">üñêÔ∏èüíç</div>
      <p style="font-family: 'Dancing Script', cursive; font-size: 1.5rem; color: #c43e5c; margin-top: 0.5rem;"> yessss....Always together and forever üíû</p>
    </div>
    
    <!-- CLICK INSTRUCTION -->
    <p id="ringInstruction" style="color: #8e3b4c; font-size: 0.95rem; margin-top: 0.3rem;">
      <i class="fas fa-mouse-pointer"></i> Ring ma click gara baby lagauana ko lagi üíï
    </p>
    
  </div>
</div>

<style>
@keyframes sparkle {
  0%, 100% { transform: scale(1); text-shadow: 0 0 5px gold; }
  50% { transform: scale(1.1); text-shadow: 0 0 20px #ff69b4, 0 0 30px gold; }
}
@keyframes popRing {
  0% { transform: scale(0); opacity: 0; }
  80% { transform: scale(1.1); }
  100% { transform: scale(1); opacity: 1; }
}
</style>

        <!-- navigation buttons -->
        <div class="nav-buttons">
          <button class="nav-btn" data-page="story"><i class="fas fa-clock"></i> Our Story</button>
          <button class="nav-btn" data-page="reasons"><i class="fas fa-heart"></i> Reasons</button>
          <button class="nav-btn" data-page="gallery"><i class="fas fa-images"></i> Gallery</button>
          <button class="nav-btn" data-page="future"><i class="fas fa-rocket"></i> Future</button>
          <button class="nav-btn" data-page="loveletter"><i class="fas fa-envelope"></i> Letter</button>
          <button class="nav-btn" data-page="surprise"><i class="fas fa-gift"></i> Surprise</button>
        </div>
      </div>
    </div>

    <!-- PAGE 3: OUR STORY -->
    <!-- PAGE 3: OUR STORY with CAR TIMELINE -->
<div id="page-story" class="page">
  <style>
    /* ------- CAR TIMELINE STYLES ------- */
    .story-timeline {
      background: rgba(255, 245, 245, 0.7);
      backdrop-filter: blur(4px);
      border-radius: 40px 20px 40px 20px;
      padding: 2rem 1rem;
      margin: 1.5rem 0;
      box-shadow: 0 8px 0 #e8b4b4;
      border: 1px solid #ffb6c1;
    }

    .timeline-rail {
      position: relative;
      width: 100%;
      margin: 40px 0 20px;
      padding: 0 10px;
    }

    /* the road line */
    .road-line {
      position: relative;
      width: 100%;
      height: 4px;
      background: repeating-linear-gradient(90deg, #ff9eb5 0px, #ff9eb5 10px, transparent 10px, transparent 20px);
      border-radius: 2px;
      box-shadow: 0 2px 0 #b3747e;
    }

    /* car */
    .car {
      position: absolute;
      top: -30px;
      left: 0;
      font-size: 2.2rem;
      filter: drop-shadow(2px 8px 6px rgba(0,0,0,0.2));
      animation: drive 16s infinite linear;
      z-index: 10;
      text-shadow: 0 0 5px #fff;
    }

    @keyframes drive {
      0% { left: 0; transform: scaleX(1); }
      49% { transform: scaleX(1); }
      50% { left: calc(100% - 45px); transform: scaleX(-1); }
      99% { transform: scaleX(-1); }
      100% { left: 0; transform: scaleX(1); }
    }

    /* timeline points container */
    .points-container {
      display: flex;
      justify-content: space-between;
      width: 100%;
      margin-top: 15px;
      position: relative;
    }

    .timeline-point {
      display: flex;
      flex-direction: column;
      align-items: center;
      width: 70px;
      text-align: center;
    }

    .point-marker {
      width: 16px;
      height: 16px;
      background: #ff4d6d;
      border: 3px solid white;
      border-radius: 50%;
      box-shadow: 0 0 0 2px #ffb6c1;
      margin-bottom: 8px;
      transition: 0.2s;
    }

    .timeline-point.future .point-marker {
      background: #c08497;
      box-shadow: 0 0 0 2px #e8b4b4;
    }

    .point-date {
      font-weight: 700;
      color: #a5384b;
      font-size: 0.85rem;
      background: white;
      padding: 3px 8px;
      border-radius: 30px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
      white-space: nowrap;
    }

    .point-label {
      font-size: 0.8rem;
      color: #6a3340;
      margin-top: 6px;
      font-weight: 600;
      line-height: 1.3;
      max-width: 100px;
    }

    .future .point-label {
      color: #8e5a61;
    }

    .future .point-date {
      background: #ffe2ec;
    }

    /* responsive: scroll on small screens */
    @media (max-width: 700px) {
      .timeline-rail {
        overflow-x: auto;
        padding-bottom: 10px;
      }
      .points-container {
        width: 800px; /* make it scrollable */
        justify-content: space-around;
      }
      .road-line {
        width: 800px;
      }
      .car {
        animation: driveMobile 16s infinite linear;
      }
      @keyframes driveMobile {
        0% { left: 0; }
        100% { left: calc(800px - 45px); }
      }
    }
  </style>

  <h2 style="font-family: 'Ubuntu', sans-serif; color: #c43e5c; font-size: 2.2rem; margin-bottom: 0.5rem;">
    üíï Our Journey
  </h2>

  <div class="story-timeline">
    <!-- TIMELINE WITH MOVING CAR -->
    <div class="timeline-rail">
      <!-- Car -->
      <div class="car">üöóüí®</div>
      <!-- Road line -->
      <div class="road-line"></div>

      <!-- All timeline points -->
      <div class="points-container">
        
        <!-- 1. April 2024 ‚Äì First talked -->
        <div class="timeline-point">
          <div class="point-marker"></div>
          <span class="point-date">Apr 2024</span>
          <span class="point-label">First talked</span>
        </div>
        
        <!-- 2. May 2024 ‚Äì First met -->
        <div class="timeline-point">
          <div class="point-marker"></div>
          <span class="point-date">May 2024</span>
          <span class="point-label">First met</span>
        </div>
        
        <!-- 3. July 13, 2024 ‚Äì First proposal -->
        <div class="timeline-point">
          <div class="point-marker"></div>
          <span class="point-date">Jul 13, 2024</span>
          <span class="point-label">First proposal üíç</span>
        </div>
        
        <!-- 4. April 2024 ‚Äì First kissed (if same month, use different day) -->
        <div class="timeline-point">
          <div class="point-marker"></div>
          <span class="point-date">Apr 2024</span>
          <span class="point-label">First kiss üíã</span>
        </div>
        
        <!-- 5. September 1, 2024 ‚Äì Last meet in Nepal -->
        <div class="timeline-point">
          <div class="point-marker"></div>
          <span class="point-date">Sep 1, 2024</span>
          <span class="point-label">Our last meetup in Nepal</span>
        </div>
        
        <!-- 6. FUTURE ‚Äì First meet in Germany -->
        <div class="timeline-point future">
          <div class="point-marker"></div>
          <span class="point-date">???</span>
          <span class="point-label">1st meetup in Germany ‚úàÔ∏è</span>
        </div>
        
        <!-- 7. FUTURE ‚Äì Marriage -->
        <div class="timeline-point future">
          <div class="point-marker"></div>
          <span class="point-date">???</span>
          <span class="point-label">Marriage üë∞ü§µ</span>
        </div>
        
      </div> <!-- end points-container -->
    </div> <!-- end timeline-rail -->
    
    <!-- Romantic caption -->
    <p style="font-family: 'Ubuntu', cursive; font-size: 1.3rem; color: #b34167; margin-top: 30px; text-align: center;">
      ‚è≥ Our life is like this car, it moves foreward slowly with different eventsüöóüíï
    </p>

     
      <div class="timeline">
        <div class="timeline-item"><div class="timeline-icon"><i class="fas fa-eye"></i></div><div class="timeline-content"><h3>How I met you</h3><p> I cant imagine even today, we met through facebook. Ive always been telling you gudiya, yo love destiny mai lekheko thiyo vanera. From a post that I have posted to you replying in my post and talking with each other then falling in love. Feels like story isnt ist bebss? The crazy part, you have already messaged me saying " tapaile Goethe ko B2 ko seat paaunu vayo " and me ignoring that message aiyaa.. </p></div></div>
        <div class="timeline-item"><div class="timeline-icon"><i class="fas fa-calendar-alt"></i></div><div class="timeline-content"><h3>First date</h3><p> The perfect place 1st adda of our date, Ratnapark, aiyaa I didnt know where to take you so decided to take you there. Kasto your eyes, nose, lips. I feel in love with everything except hair hai lol. You were and are cute, were too nice with me even though i was rude, happy to see me from the very 1st date...Feels really good whenever I think about it... </p></div></div>
        <div class="timeline-item"><div class="timeline-icon"><i class="fas fa-star"></i></div><div class="timeline-content"><h3>Favorite memory</h3><p> Ofcourse it is the time that I knew you loved me so much then I proposed you and you accepted my proposal. I was tooo muchh happy yrr. Then kissing and hugging in person hayeee, Then at last you know what I mean lol. The saddest part was to leave you yrr, tara its okay, you will come very soon to my arms. </p></div></div>
        <div class="timeline-item"><div class="timeline-icon"><i class="fas fa-heart"></i></div><div class="timeline-content"><h3>Since 13th July </h3><p>Every day with you is magic. You are my good luck charm for me, after you have came to my life, my life has been only good.</p></div></div>
      </div>
      
  </div> <!-- end story-timeline -->

  <!-- Back button -->
  <button class="back-btn" data-page="main">
    <i class="fas fa-arrow-left"></i> Back
  </button>
</div>

    <!-- PAGE 4: REASONS I LOVE YOU (no icons) -->
    <div id="page-reasons" class="page">
      <h2>üíò Reasons I Love You</h2>
      <div class="reasons-grid">
        <div class="reason-card">Your smile, lips, eyes everything </div><div class="reason-card">Childness</div>
        <div class="reason-card">sumadhur aawaj</div><div class="reason-card">too nice to me </div>
        <div class="reason-card">Your kindness</div><div class="reason-card">your careness</div>
        <div class="reason-card"> You making me feel I am the best </div><div class="reason-card">Your hugs</div>
        <div class="reason-card">You teaching me all about love</div><div class="reason-card">You being sometimes naughty</div>
        <div class="reason-card">Hand in hand</div><div class="reason-card">Your efforts</div>
        <div class="reason-card">you being so open</div><div class="reason-card">You giving time to me</div>
        <div class="reason-card">your heart</div><div class="reason-card">Pagalpana</div>
        <div class="reason-card">Personality</div><div class="reason-card">You feel like home</div>
        <div class="reason-card">Forever potential</div><div class="reason-card">Just because you're you</div>
      </div>
      <button class="back-btn" data-page="main"><i class="fas fa-arrow-left"></i> Back</button>
    </div>

    <!-- PAGE 5: PHOTO GALLERY (10 polaroids) -->
    


   <div id="page-gallery" class="page">
  <h2>üì∏ Our Photos Together</h2>
  <div class="polaroid-grid">
    
    <!-- 1. Kiss -->
    <div class="polaroid">
      <div class="polaroid-img">
        <a href="https://ibb.co/vCz44vLv">
          <img src="https://i.ibb.co/XfJxxkFk/Snapchat-2107097002.jpg" alt="Kiss" style="width:100%; height:100%; object-fit:cover; border-radius:6px;">
        </a>
      </div>
      <div class="polaroid-caption">üíã Kiss</div>
    </div>
    
    <!-- 2. Meetup -->
    <div class="polaroid">
      <div class="polaroid-img">
        <a href="https://ibb.co/NnddhJ3B">
          <img src="https://i.ibb.co/FqLLvyWT/20240721-113605.jpg" alt="Meetup" style="width:100%; height:100%; object-fit:cover; border-radius:6px;">
        </a>
      </div>
      <div class="polaroid-caption">üíï Meetup</div>
    </div>
    
    <!-- 3. 2nd Adda -->
    <div class="polaroid">
      <div class="polaroid-img">
        <a href="https://ibb.co/9HRg2LMK">
          <img src="https://i.ibb.co/Df3Wkyqc/20240811-155920.jpg" alt="2nd Adda" style="width:100%; height:100%; object-fit:cover; border-radius:6px;">
        </a>
      </div>
      <div class="polaroid-caption">‚òï 2nd Adda</div>
    </div>
    
    <!-- 4. Last day before Germany -->
    <div class="polaroid">
      <div class="polaroid-img">
        <a href="https://ibb.co/xqzW5dRf">
          <img src="https://i.ibb.co/5hsmcwfn/20240901-151715.jpg" alt="Last day before Germany" style="width:100%; height:100%; object-fit:cover; border-radius:6px;">
        </a>
      </div>
      <div class="polaroid-caption">‚úàÔ∏è Before Germany</div>
    </div>
    
    <!-- 5. Coffee shop -->
    <div class="polaroid">
      <div class="polaroid-img">
        <a href="https://ibb.co/4RmgNxLc">
          <img src="https://i.ibb.co/s9mJ3r4h/20240901-141109.jpg" alt="Coffee shop" style="width:100%; height:100%; object-fit:cover; border-radius:6px;">
        </a>
      </div>
      <div class="polaroid-caption">‚òï Coffee date</div>
    </div>
    
    <!-- 6. Hickey -->
    <div class="polaroid">
      <div class="polaroid-img">
        <a href="https://ibb.co/b5QfCGw9">
          <img src="https://i.ibb.co/GQnh8rYS/20240811-154334.jpg" alt="Hickey" style="width:100%; height:100%; object-fit:cover; border-radius:6px;">
        </a>
      </div>
      <div class="polaroid-caption">üòò My hickey</div>
    </div>
    
    <!-- 7. Museum pic -->
    <div class="polaroid">
      <div class="polaroid-img">
        <a href="https://ibb.co/8g9FxvDL">
          <img src="https://i.ibb.co/Zzxyg46p/20240512-110739.jpg" alt="Museum" style="width:100%; height:100%; object-fit:cover; border-radius:6px;">
        </a>
      </div>
      <div class="polaroid-caption">üèõÔ∏è Museum</div>
    </div>
    
    
  </div> <!--  THIS CLOSES polaroid-grid -->
  
  <p style="color: #a25361; font-size:0.9rem; text-align: center;">
    <i class="fas fa-pencil-alt"></i> Whenever I see these photos, I feel like it was yesterday without realizing how much time has passed.
  </p>
  
  <button class="back-btn" data-page="main">
    <i class="fas fa-arrow-left"></i> Back
  </button>
</div>
    <!-- PAGE 6: FUTURE PLANS -->
    <div id="page-future" class="page">
      <h2>‚ú® Our Future</h2>
      <div style="background: #fff0f3; padding: 1.5rem; border-radius: 40px; margin: 1.2rem 0;">
        <p style="font-size:1.5rem; font-family: 'Dancing Script';">Dreaming with you:</p>
        <ul style="list-style: none; margin-top: 1rem;">
          <li style="margin: 1rem 0;"><i class="fas fa-plane" style="color: #ff6f8b;"></i> You coming to Germany</li>
          <li style="margin: 1rem 0;"><i class="fas fa-tree" style="color: #ff6f8b;"></i> Doing world tours with you</li>
          <li style="margin: 1rem 0;"><i class="fas fa-ring" style="color: #ff6f8b;"> </i> Marriage </li>
              <li style="margin: 1rem 0;"><i class="fas fa-house-chimney" style="color: #ff6f8b;"></i> Building our own house</li>
            <li style="margin: 1rem 0;"><i class="fas fa-money-bill	" style="color: #ff6f8b;"></i> Earning Money </li>
            <li style="margin: 1rem 0;"><i class="fas fa-hourglass" style="color: #ff6f8b;"></i> Being old together</li>

            
        </ul>
      </div>
      <button class="back-btn" data-page="main"><i class="fas fa-arrow-left"></i> Back</button>
    </div>

    <!-- PAGE 7: LOVE LETTER -->
    <div id="page-loveletter" class="page">
      <h2>üíå A Letter for You</h2>
      <div class="love-letter-box" contenteditable="true">
        My darling Kopila,

        From the moment you said yes, my heart has been dancing. You are the poetry I never knew how to write. Every day with you feels like a beautiful dream I never want to wake from. Thank you very much for your love, support and everthing you have given till now. I am always happy to be with you forever and I want to be with you in future. You are the reason of my smile, excitement, strength, everything. May our love never ends and always be praised by others.

        Forever yours,
        Pabin ‚ù§Ô∏è
      </div>
      <button class="back-btn" data-page="main"><i class="fas fa-arrow-left"></i> Back</button>
    </div>

    <!-- PAGE 8: SURPRISE (audio message) -->
    <div id="page-surprise" class="page">
      <h2>üéÅ A Surprise for You</h2>
      <div style="text-align: center; margin: 1.5rem 0;">
        <i class="fas fa-headphones" style="font-size: 3.5rem; color: #ff6f8b; animation: pulse 2s infinite;"></i>
        <p style="margin: 1rem 0;">Click to hear my voice üíï</p>
        <button id="revealAudioBtn" class="surprise-btn"><i class="fas fa-play"></i> Play my message</button>
        <div id="audioReveal" style="display: none; margin-top: 1.5rem;">
          <audio id="personalAudio" controls src="https://blenderprawin.github.io/Valentines-day/one.m4a"></audio>
        </div>
      </div>
      <button class="back-btn" data-page="main"><i class="fas fa-arrow-left"></i> Back</button>
    </div>

    <!-- tiny edit note -->
    <div style="margin-top: 1rem; font-size:0.7rem; color:#a86b76; text-align:center;">
      <i class="fas fa-pencil-alt"></i> Made by your buda with lots of love üíñ
    </div>
  </div>

  <script>
    (function(){
      "use strict";

     // ---------- MUSIC CONTROL ----------
const audio = document.getElementById('valentineMusic');
const musicToggle = document.getElementById('musicToggle');
const musicIcon = document.getElementById('musicIcon');
const musicText = document.getElementById('musicText');
let musicPlaying = false;
audio.volume = 0.3;

musicToggle.addEventListener('click', function(e) {
  e.preventDefault();
  if (musicPlaying) {
    audio.pause();
    musicIcon.className = 'fas fa-music';
    musicText.innerText = 'Play Music';
  } else {
    audio.play().then(() => {
      musicIcon.className = 'fas fa-pause-circle';
      musicText.innerText = 'Pause Music';
    }).catch(error => {
      console.log("Playback failed:", error);
      alert("Please tap again ‚Äì music will start!");
      // Try one more time with user interaction
      audio.play();
    });
  }
  musicPlaying = !musicPlaying;
});

      // ---------- PAGE NAVIGATION ----------
      const pages = document.querySelectorAll('.page');
      function showPage(pageId) {
        pages.forEach(p => p.classList.remove('active'));
        document.getElementById('page-' + pageId).classList.add('active');
        if (pageId === 'main') { startChatSimulation(); startCountdown(); }
      }

      document.querySelectorAll('.nav-btn[data-page]').forEach(btn => {
        btn.addEventListener('click', function() { showPage(this.dataset.page); });
      });
      document.querySelectorAll('.back-btn[data-page]').forEach(btn => {
        btn.addEventListener('click', function() { showPage(this.dataset.page); });
      });
        // ---------- RING PROPOSAL ----------
window.proposeRing = function() {
  // Hide the ring
  document.getElementById('theRing').style.display = 'none';
  document.getElementById('ringInstruction').style.display = 'none';
  
  // Show finger with ring
  const fingerDiv = document.getElementById('ringOnFinger');
  fingerDiv.style.display = 'flex';
  
  // Confetti celebration!
  confetti({
    particleCount: 100,
    spread: 60,
    origin: { y: 0.6 },
    colors: ['#ffd700', '#ff69b4', '#ffffff']
  });
  
  // Optional: Play a sound (if you want)
  // new Audio('https://cdn.pixabay.com/download/audio/2022/03/16/audio_442030c69d.mp3').play();
  
  // Change the title text
  const titleEl = document.querySelector('#ringContainer h3');
  if(titleEl) titleEl.innerHTML = 'üëë She said FOREVER! üíñ';
}

      // ---------- TYPING EFFECT FOR LANDING MESSAGE ----------
      function typeMessage() {
        const msgDiv = document.getElementById('typingMessage');
        if (!msgDiv) return;
        const originalHTML = msgDiv.innerHTML;
        const plainText = msgDiv.innerText;
        msgDiv.innerHTML = '';
        let i = 0;
        const speed = 35;
        function type() {
          if (i < plainText.length) {
            msgDiv.innerHTML += plainText.charAt(i);
            i++;
            setTimeout(type, speed);
          } else {
            msgDiv.innerHTML = originalHTML;
          }
        }
        type();
      }

      // ---------- FALLING HEARTS ----------
      function createFallingHeart() {
        const heart = document.createElement('i');
        heart.className = 'fas fa-heart falling-heart';
        heart.style.left = Math.random() * 100 + '%';
        heart.style.animationDuration = (Math.random() * 2 + 2) + 's';
        heart.style.fontSize = (Math.random() * 20 + 20) + 'px';
        heart.style.opacity = Math.random() * 0.6 + 0.4;
        document.body.appendChild(heart);
        setTimeout(() => { heart.remove(); }, 3000);
      }

      // ---------- PHONE VIBRATION ----------
      function vibratePhone() {
        if (window.navigator && window.navigator.vibrate) {
          window.navigator.vibrate([200, 100, 200]);
        }
      }

      // ---------- COUNTDOWN TIMER ‚Äì only DAYS & HOURS (since July 13, 2024) ----------
      let countdownInterval = null;
      function startCountdown() {
        if (countdownInterval) clearInterval(countdownInterval);
        function updateTimer() {
          const proposalDate = new Date('July 13, 2024 00:00:00').getTime();
          const now = new Date().getTime();
          const distance = now - proposalDate;
          if (distance < 0) {
            document.getElementById('days').innerText = '0';
            document.getElementById('hours').innerText = '0';
            return;
          }
          const days = Math.floor(distance / (1000 * 60 * 60 * 24));
          const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          document.getElementById('days').innerText = days;
          document.getElementById('hours').innerText = hours;
        }
        updateTimer();
        countdownInterval = setInterval(updateTimer, 1000);
      }

      // ---------- ROMANTIC CHAT SIMULATION ----------
      let chatInterval = null;
      function startChatSimulation() {
        const chatBox = document.getElementById('chatMessages');
        if (!chatBox) return;
        chatBox.innerHTML = '';
        if (chatInterval) clearInterval(chatInterval);

        const messages = [
          { text: 'Marepaxi matra manxe ko value thaha hunxa hai', side: 'right' },
          { text: 'kina testo vanxau timle ', side: 'left' },
          { text: 'timlai thaha xaina maile timlai kati maya garxu vanera ', side: 'left' },
          { text: 'You are the only reason I smile.', side: 'right' },
          { text: 'I love you so much baby ü•∞', side: 'right' },
          { text: 'Malai thaha thiyena timle love garxau vanera', side: 'left' },
          { text: 'I love you too my honey ‚ù§Ô∏è', side: 'left' },
          { text: '1st propose ko ekdam simple version hai sanu', side: 'centre' }
        ];

        let index = 0;
        function addMessage() {
          if (index >= messages.length) { clearInterval(chatInterval); chatInterval = null; return; }
          const msg = messages[index];
          const bubble = document.createElement('div');
          bubble.className = `chat-bubble ${msg.side === 'left' ? 'left' : ''}`;
          bubble.textContent = msg.text;
          chatBox.appendChild(bubble);
          chatBox.scrollTop = chatBox.scrollHeight;
          index++;
        }
        setTimeout(addMessage, 500);
        chatInterval = setInterval(addMessage, 1800);
      }

      // ---------- YES BUTTON : celebration ----------
      const yesBtn = document.getElementById('yesBtn');
      yesBtn.addEventListener('click', function(e) {
        e.preventDefault();
        confetti({ particleCount: 150, spread: 70, origin: { y: 0.6 }, colors: ['#ff4d6d','#ff8c9c','#ffb3c6'] });
        confetti({ particleCount: 80, spread: 45, origin: { y: 0.7, x: 0.2 } });
        confetti({ particleCount: 80, spread: 45, origin: { y: 0.7, x: 0.8 } });
        for (let i=0; i<30; i++) setTimeout(createFallingHeart, i * 30);
        vibratePhone();
        showPage('main');
      });

      // ---------- IMPOSSIBLE NO BUTTON ----------
      const noBtn = document.getElementById('noBtn');
      const yesBtnEl = document.getElementById('yesBtn');
      const container = document.getElementById('buttonContainer');
      function getPositions() {
        const containerRect = container.getBoundingClientRect();
        const yesRect = yesBtnEl.getBoundingClientRect();
        const noWidth = noBtn.offsetWidth;
        const noHeight = noBtn.offsetHeight;
        const containerW = container.offsetWidth;
        const containerH = container.offsetHeight;
        return { containerRect, yesRect, noWidth, noHeight, containerW, containerH };
      }
      function isOverlapping(x, y, noW, noH, yesRect, containerRect) {
        const noLeft = containerRect.left + x;
        const noRight = noLeft + noW;
        const noTop = containerRect.top + y;
        const noBottom = noTop + noH;
        return !(noRight < yesRect.left || noLeft > yesRect.right || noBottom < yesRect.top || noTop > yesRect.bottom);
      }
      function moveNoButtonSafe() {
        const { containerRect, yesRect, noWidth, noHeight, containerW, containerH } = getPositions();
        if (containerW === 0) return;
        let maxLeft = Math.max(0, containerW - noWidth);
        let maxTop = Math.max(0, containerH - noHeight);
        let attempts = 0, found = false, randomLeft, randomTop;
        while (attempts < 40 && !found) {
          randomLeft = Math.floor(Math.random() * (maxLeft + 1));
          randomTop = Math.floor(Math.random() * (maxTop + 1));
          if (!isOverlapping(randomLeft, randomTop, noWidth, noHeight, yesRect, containerRect)) found = true;
          attempts++;
        }
        if (!found) { randomLeft = maxLeft; randomTop = maxTop; }
        noBtn.style.left = randomLeft + 'px';
        noBtn.style.top = randomTop + 'px';
      }
      noBtn.addEventListener('mouseenter', (e) => { e.preventDefault(); moveNoButtonSafe(); });
      noBtn.addEventListener('touchstart', (e) => { e.preventDefault(); moveNoButtonSafe(); });
      container.addEventListener('mousemove', function(e) {
        if (!container.contains(noBtn)) return;
        const noRect = noBtn.getBoundingClientRect();
        const dist = Math.hypot(e.clientX - (noRect.left+noRect.width/2), e.clientY - (noRect.top+noRect.height/2));
        if (dist < 85) moveNoButtonSafe();
      });
      container.addEventListener('touchmove', function(e) {
        if (e.touches.length && container.contains(noBtn)) {
          const touch = e.touches[0];
          const noRect = noBtn.getBoundingClientRect();
          const dist = Math.hypot(touch.clientX - (noRect.left+noRect.width/2), touch.clientY - (noRect.top+noRect.height/2));
          if (dist < 85) { e.preventDefault(); moveNoButtonSafe(); }
        }
      }, { passive: false });
      noBtn.addEventListener('click', (e) => { e.preventDefault(); e.stopPropagation(); moveNoButtonSafe(); });
      noBtn.addEventListener('mousedown', (e) => e.preventDefault());
      window.addEventListener('load', moveNoButtonSafe);
      window.addEventListener('resize', moveNoButtonSafe);

      // ---------- SURPRISE AUDIO ----------
      const revealBtn = document.getElementById('revealAudioBtn');
      if (revealBtn) {
        revealBtn.addEventListener('click', function() {
          document.getElementById('audioReveal').style.display = 'block';
          const personalAudio = document.getElementById('personalAudio');
          personalAudio.play().catch(()=>{});
          revealBtn.disabled = true;
          revealBtn.innerText = 'Message revealed üíå';
        });
      }

      // ---------- START TYPING & INITIAL COUNTDOWN ----------
      window.addEventListener('load', function() {
        typeMessage();
        moveNoButtonSafe();
        startCountdown();
      });
    })();
  </script>
  <!-- BACK TO US BUTTON -->
<div id="backToUsBtn" class="back-to-us" onclick="scrollToTop()">
  <i class="fas fa-heart"></i> Back to Us
</div>

<style>
.back-to-us {
  position: fixed;
  bottom: 30px;
  right: 30px;
  background: #ff4d6d;
  color: white;
  padding: 12px 20px;
  border-radius: 60px 20px 60px 20px;
  font-size: 1rem;
  font-weight: 600;
  box-shadow: 0 6px 0 #b32d4a;
  cursor: pointer;
  display: none; /* hidden by default */
  align-items: center;
  gap: 8px;
  z-index: 1000;
  transition: all 0.3s ease;
  border: 1px solid white;
  font-family: 'Ubuntu', sans-serif;
}

.back-to-us:hover {
  transform: scale(1.05);
  background: #ff3355;
}

.back-to-us i {
  font-size: 1.2rem;
  animation: heartbeat 1.5s infinite;
}

/* Show button when scrolled down */
.show-back-to-us {
  display: flex !important;
}
</style>

<script>
// Show/hide back to us button on scroll
window.addEventListener('scroll', function() {
  const btn = document.getElementById('backToUsBtn');
  if (window.scrollY > 400) {
    btn.classList.add('show-back-to-us');
  } else {
    btn.classList.remove('show-back-to-us');
  }
});

function scrollToTop() {
  window.scrollTo({ top: 0, behavior: 'smooth' });
}
</script>
</body>
</html>
